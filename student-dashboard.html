<!DOCTYPE html>
<html lang="en">

<head>

<meta charset="UTF-8">

<meta name="viewport"
content="width=device-width, initial-scale=1.0">

<title>Student Dashboard</title>

<link rel="stylesheet"
href="student-dashboard.css">

<script defer src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>

<script type="module"
src="student-dashboard.js"></script>

</head>


<body>



<!-- HEADER -->

<header class="header">

<div class="header-left">

<button id="menuBtn"
class="menu-btn">â˜°</button>

</div>


<div class="header-center">

<div class="user-name"
id="studentName">

Student Name

</div>

<div class="user-role"
id="studentRole">

Student

</div>

<div class="header-clock" id="headerClock">
	<span id="currentDate">--/--/----</span>
	&nbsp;â€¢&nbsp;
	<span id="currentTime">--:--:--</span>
</div>

</div>


<div class="header-right">

<div class="header-clock" id="headerClock" aria-hidden="false">
	<div id="currentTime">--:--:--</div>
</div>

<div class="notification">

<span class="bell-icon">ğŸ””</span>

<span class="notification-badge"
id="notificationCount">

0

</span>

</div>

<button id="logoutBtn"
class="logout-btn">

Logout

</button>

</div>

</header>




<!-- SIDEBAR -->

<aside class="sidebar"
id="sidebar">

<ul>

<li onclick="showPage('homePage')">
Home
</li>

<li onclick="showPage('markPage')">
Mark Attendance
</li>

<li onclick="showPage('profilePage')">
Profile
</li>

<li onclick="showPage('recordsPage')">
Attendance Records
</li>

</ul>

</aside>




<!-- MAIN -->

<main class="main">




<!-- HOME -->

<section id="homePage"
class="page active">

<h2 id="greetingText">
Good Morning ğŸ‘‹
</h2>
<div id="sessionRange" class="session-range"></div>


<div class="status-box">

<div class="status-title">

Attendance Status

</div>


<div id="attendanceMessage"
class="status-message">

Checking attendance...

</div>


<div class="home-session-box">
	<div id="homeSessionName" class="home-session-name">--</div>
	<div id="homeTimeLeft" class="home-time-left">--:--:-- left</div>
</div>


<div class="session-status">

<div class="session-card">

<div class="session-label">
FN
</div>

<div id="fnStatus"
class="session-value">

Checking...

</div>

</div>


<div class="session-card">

<div class="session-label">
AN
</div>

<div id="anStatus"
class="session-value">

Checking...

</div>

</div>

</div>


<button id="homeMarkBtn">

Mark Attendance

</button>

</div>




<div class="cards-container">


<div class="card">

<div class="card-title">
Total Days
</div>

<div id="totalDays"
class="card-value">
0
</div>

</div>


<div class="card">

<div class="card-title">
Present
</div>

<div id="presentDays"
class="card-value">
0
</div>

</div>


<div class="card">

<div class="card-title">
Absent
</div>

<div id="absentDays"
class="card-value">
0
</div>

</div>


<div class="card">

<div class="card-title">
Percentage
</div>

<div id="percentage"
class="card-value">
0%
</div>

</div>


</div>

</section>




<!-- MARK ATTENDANCE -->

<section id="markPage"
class="page">

<div class="center-container">

<div class="attendance-box">

<h2>
Mark Attendance
</h2>

<p>
Session:
<span id="sessionText">
FN
</span>
</p>

<div class="mark-session-box">
	<div id="markSessionName" class="mark-session-name">--</div>
	<div id="markTimeLeft" class="mark-time-left">--:--:-- left</div>
</div>

<div class="verification-steps">
	<!-- Step 1: GPS Verification -->
	<div id="gpsStep" class="step-box">
		<div class="step-header">
			<span class="step-number">1</span>
			<span class="step-title">Location Verification</span>
			<span id="gpsStatus" class="step-status">Pending</span>
		</div>
		<div id="gpsMessage" class="step-message">Verifying your location...</div>
		<button id="gpsPermissionBtn" class="permission-btn" style="display:none;">ğŸ“ Grant Location Access</button>
	</div>

	<!-- Step 2: Facial Verification -->
	<div id="faceStep" class="step-box disabled">
		<div class="step-header">
			<span class="step-number">2</span>
			<span class="step-title">Facial Recognition</span>
			<span id="faceStatus" class="step-status">Locked</span>
		</div>
		<div id="faceMessage" class="step-message">Complete location verification first</div>
		<button id="facePermissionBtn" class="permission-btn" style="display:none;">ğŸ“¹ Grant Camera Access</button>
		<div id="faceTrials" class="face-trials" style="display:none;">
			<span>Attempts: <span id="faceTrialCount">3</span>/3</span>
		</div>
		<video id="video" style="display:none;" autoplay muted></video>
	</div>

	<!-- Step 3: Manual Approval -->
	<div id="manualStep" class="step-box disabled">
		<div class="step-header">
			<span class="step-number">3</span>
			<span class="step-title">Manual Verification</span>
			<span id="manualStatus" class="step-status">Locked</span>
		</div>
		<div id="manualMessage" class="step-message">Manual approval required</div>
		<button id="manualRequestBtn" class="request-btn" style="display:none;">ğŸ“‹ Request Manual Approval</button>
	</div>
</div>

<button id="markBtn" class="mark-btn-main" style="display:none;">
âœ“ Mark Attendance
</button>

</div>

</div>

</section>




<!-- PROFILE -->

<section id="profilePage"
class="page">

<div class="center-container">

<div class="profile-container">

<h2>
Profile
</h2>


<div class="profile-row">
<span>Name</span>
<span id="profileName"></span>
</div>

<div class="profile-row">
<span>Student ID</span>
<span id="profileStudentId"></span>
</div>

<div class="profile-row">
<span>Email</span>
<span id="profileEmail"></span>
</div>

<div class="profile-row">
<span>Phone</span>
<span id="profilePhone"></span>
</div>

<div class="profile-row">
<span>Department</span>
<span id="profileDepartment"></span>
</div>

<div class="profile-row">
<span>Year</span>
<span id="profileYear"></span>
</div>

<div class="profile-row">
<span>Incharge</span>
<span id="profileIncharge"></span>
</div>

<div class="profile-row">
<span>Role</span>
<span id="profileRole"></span>
</div>


</div>

</div>

</section>




<!-- RECORDS -->

<section id="recordsPage"
class="page">

<div class="center-container">

<div class="records-container">

<h2>
Attendance Records
</h2>


<table>

<thead>

<tr>

<th>S.No</th>

<th>Date</th>

<th>Session</th>

<th>Time</th>

<th>GPS</th>

<th>Method</th>

<th>Status</th>

</tr>

</thead>


<tbody id="recordsTable">
</tbody>


</table>

</div>

</div>

</section>




</main>


</body>

</html>

<!-- Navigation confirmation modal -->
<div id="navConfirmModal" class="modal hidden">
	<div class="modal-content">
		<h3 id="modalTitle">Confirm Navigation</h3>
		<p id="modalMessage">You are navigating away â€” this will sign you out. Continue?</p>
		<div class="modal-actions">
			<button id="modalCancel" class="btn btn-secondary">Cancel</button>
			<button id="modalConfirm" class="btn btn-primary">Yes, Sign Out</button>
		</div>
	</div>
</div>
